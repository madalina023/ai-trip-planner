import { GoogleGenerativeAI } from "@google/generative-ai";
const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with hotelName, hotelAddress, price, hotelImage url, geo coordinates, rating, descriptions and suggest itinerary with time, placeName, placeDetails, placeImageUrl, geoCoordinates, ticketPricing, timeTravel each of the location for 3 days with each day plan with best time to visit in JSON format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a comprehensive Las Vegas travel plan tailored for a couple on a budget, focusing on maximizing experiences without breaking the bank.  This JSON format contains hotel options and a detailed 3-day itinerary.\n\n```json\n{\n  "tripDetails": {\n    "location": "Las Vegas, Nevada",\n    "duration": "3 Days",\n    "travelers": "Couple",\n    "budget": "Cheap",\n    "focus": "Affordable Experiences"\n  },\n  "hotelOptions": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$30 - $70/night (depending on season and day)",\n      "hotelImageUrl": "https://www.circuscircus.com/wp-content/uploads/2023/04/circus-circus-hotel-room.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1260,\n        "longitude": -115.1654\n      },\n      "rating": 3.5,\n      "description": "A classic Vegas hotel known for its affordability and circus-themed attractions. Offers basic rooms, a casino, and the Adventuredome indoor theme park (extra cost)."\n    },\n    {\n      "hotelName": "Excalibur Hotel & Casino",\n      "hotelAddress": "3850 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$35 - $80/night (depending on season and day)",\n      "hotelImageUrl": "https://www.excalibur.com/content/dam/eclv/page-headers/excalibur-hotel-casino-exterior-night-header.adapt.1900.1190.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0984,\n        "longitude": -115.1744\n      },\n      "rating": 3.7,\n      "description": "A medieval-themed hotel offering budget-friendly rooms, a casino, and various entertainment options. Located at the south end of the Strip."\n    },\n     {\n      "hotelName": "Luxor Hotel & Casino",\n      "hotelAddress": "3900 S Las Vegas Blvd, Las Vegas, NV 89119",\n      "price": "$40 - $90/night (depending on season and day)",\n      "hotelImageUrl": "https://www.luxor.com/content/dam/luxor/page-headers/luxor-hotel-casino-exterior-night-header.adapt.1900.1190.jpg",\n      "geoCoordinates": {\n        "latitude": 36.0956,\n        "longitude": -115.1759\n      },\n      "rating": 3.8,\n      "description": "An Egyptian-themed hotel with a distinctive pyramid shape.  Offers affordable rooms, a casino, and attractions like the Titanic exhibit (extra cost)."\n    },\n    {\n      "hotelName": "Stratosphere Hotel, Casino & Tower",\n      "hotelAddress": "2000 S Las Vegas Blvd, Las Vegas, NV 89104",\n      "price": "$40 - $90/night (depending on season and day)",\n      "hotelImageUrl": "https://www.stratospherehotel.com/sites/stratospherehotel.com/files/styles/background_image/public/st_ext_0018_0.jpg?itok=5Y3e00n0",\n      "geoCoordinates": {\n        "latitude": 36.1472,\n        "longitude": -115.1575\n      },\n      "rating": 3.6,\n      "description": "Located at the north end of the Strip, offering amazing views from its tower (extra cost). Rooms are reasonably priced, and it has a casino."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Exploring the South Strip & Free Attractions",\n      "bestTimeToVisit": "Morning and Evening",\n      "activities": [\n        {\n          "time": "9:00 AM",\n          "placeName": "Welcome to Las Vegas Sign",\n          "placeDetails": "Iconic photo opportunity. Get there early to avoid crowds.",\n          "placeImageUrl": "https://www.lasvegasnevada.gov/wp-content/uploads/2023/01/Welcome-Sign-Wide-1200x720.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0474,\n            "longitude": -115.1732\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "15-30 minutes (depending on traffic from your hotel)"\n        },\n        {\n          "time": "10:30 AM",\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Stunning seasonal floral displays. Free to enter.",\n          "placeImageUrl": "https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-spring-display-2023-full.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1127,\n            "longitude": -115.1742\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "10-15 minutes (from Welcome Sign, using bus or ride-share)"\n        },\n        {\n          "time": "12:00 PM",\n          "placeName": "Lunch at In-N-Out Burger",\n          "placeDetails": "Classic, affordable West Coast burger chain.",\n          "placeImageUrl": "https://www.in-n-out.com/images/default-source/graphics/in-n-out-burger-logo-dark.png",\n          "geoCoordinates": {\n            "latitude": 36.1115,\n            "longitude": -115.1774\n          },\n          "ticketPricing": "$10-$15",\n          "timeTravel": "5-10 minutes walk from Bellagio"\n        },\n        {\n          "time": "1:30 PM",\n          "placeName": "Explore the LINQ Promenade",\n          "placeDetails": "Outdoor shopping, dining, and entertainment district.  Window shop and enjoy the atmosphere.",\n          "placeImageUrl": "https://www.caesars.com/content/dam/clv/shopping/linq-promenade/linq-promenade-shopping-overview-desktop.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1160,\n            "longitude": -115.1703\n          },\n          "ticketPricing": "Free (unless you shop/eat)",\n          "timeTravel": "15-20 minutes (walking/bus from In-N-Out)"\n        },\n        {\n          "time": "3:00 PM",\n          "placeName": "High Roller Observation Wheel (Optional - Consider Discounted Tickets)",\n          "placeDetails": "Take a ride on the High Roller for panoramic views of the city. Book in advance for discounts.",\n          "placeImageUrl": "https://www.caesars.com/content/dam/clv/entertainment/high-roller/high-roller-homepage-mobile.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1154,\n            "longitude": -115.1692\n          },\n          "ticketPricing": "$25 - $40 per person (depending on time of day/deals)",\n          "timeTravel": "Located in LINQ Promenade"\n        },\n        {\n          "time": "5:00 PM",\n          "placeName": "Fountains of Bellagio",\n          "placeDetails": "Spectacular water show synchronized to music. Free.",\n          "placeImageUrl": "https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/bellagio-fountains-overview-desktop.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1126,\n            "longitude": -115.1742\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "15-20 minutes (bus or ride-share from LINQ)"\n        },\n        {\n          "time": "6:00 PM",\n          "placeName": "Dinner at Ocean One Bar & Grille",\n          "placeDetails": "Located inside the Miracle Mile Shops at Planet Hollywood. Known for its $5.99 lunch and dinner specials.",\n          "placeImageUrl": "https://miraclemileshopslv.com/wp-content/uploads/2022/05/Ocean-One-1200x720.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1115,\n            "longitude": -115.1727\n          },\n          "ticketPricing": "$10 - $20 per person",\n          "timeTravel": "5 minute walk from Fountains of Bellagio"\n        },\n        {\n          "time": "7:30 PM",\n          "placeName": "Mirage Volcano",\n          "placeDetails": "Free volcano eruption show. Check showtimes in advance.",\n          "placeImageUrl": "https://hardrock.com/las-vegas/wp-content/uploads/sites/10/2024/01/hrlv_web_volcano_updated.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1212,\n            "longitude": -115.1755\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "10-15 minutes walk from Ocean One Bar & Grille"\n        },\n        {\n          "time": "8:30 PM",\n          "placeName": "Explore the Venetian & Palazzo",\n          "placeDetails": "Wander through the canals, bridges, and shops. Free to enter.  Consider a gondola ride if budget allows (extra cost).",\n          "placeImageUrl": "https://www.venetianlasvegas.com/content/dam/venetian/master/main/home/tvs-hero-homepage-desktop-vlv-1900x950.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1215,\n            "longitude": -115.1739\n          },\n          "ticketPricing": "Free (Gondola ride is extra)",\n          "timeTravel": "5-10 minutes walk from Mirage"\n        }\n\n      ]\n    },\n    "day2": {\n      "theme": "Downtown Las Vegas & Budget Entertainment",\n      "bestTimeToVisit": "Afternoon and Evening",\n      "activities": [\n        {\n          "time": "10:00 AM",\n          "placeName": "Breakfast at your Hotel or a Cheap Diner",\n          "placeDetails": "Grab a quick and affordable breakfast at your hotel or a nearby diner.  Consider a place like Denny\'s or a local coffee shop.",\n          "placeImageUrl": "https://b.zmtcdn.com/data/pictures/chains/1/16744991/e8139a1b63920508d79a77b688195d86.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1260,\n            "longitude": -115.1654\n          },\n          "ticketPricing": "$5 - $10 per person",\n          "timeTravel": "N/A"\n        },\n        {\n          "time": "11:00 AM",\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Free light and sound show under a massive LED canopy.  Explore the casinos and street performers.",\n          "placeImageUrl": "https://vegasexperience.com/wp-content/uploads/2024/04/Vegas_Experience_Downtown_Las_Vegas_Strip_Main_Website_Banner_2560x1000_02-scaled.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1702,\n            "longitude": -115.1422\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "20-30 minutes (bus or ride-share from the Strip)"\n        },\n        {\n          "time": "12:30 PM",\n          "placeName": "Lunch at Heart Attack Grill",\n          "placeDetails": "Controversial but cheap and memorable. Not for the faint of heart (literally!).",\n          "placeImageUrl": "https://images.squarespace-cdn.com/content/v1/5b8b25725cfd796dd2d16515/1555511642264-S7107107Y4H3O5V6Q96X/HeartAttackGrillExterior.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1702,\n            "longitude": -115.1419\n          },\n          "ticketPricing": "$10 - $20 per person",\n          "timeTravel": "Located on Fremont Street"\n        },\n        {\n          "time": "2:00 PM",\n          "placeName": "Explore Container Park",\n          "placeDetails": "Unique outdoor shopping and entertainment venue built from shipping containers.  Free to enter.",\n          "placeImageUrl": "https://downtowncontainerpark.com/wp-content/uploads/2021/07/DCP_HeroImage_v1.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1686,\n            "longitude": -115.1407\n          },\n          "ticketPricing": "Free (unless you shop/eat)",\n          "timeTravel": "5-10 minutes walk from Heart Attack Grill"\n        },\n        {\n          "time": "3:30 PM",\n          "placeName": "Gold & Silver Pawn Shop (Pawn Stars)",\n          "placeDetails": "Famous pawn shop featured on the TV show.  See if you can spot any familiar faces.",\n          "placeImageUrl": "https://www.gspawn.com/wp-content/uploads/2021/07/GSPAWN_Exterior_1140x570-1024x512.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1589,\n            "longitude": -115.1542\n          },\n          "ticketPricing": "Free (unless you buy something)",\n          "timeTravel": "10-15 minutes (ride-share from Container Park)"\n        },\n        {\n          "time": "5:00 PM",\n          "placeName": "Mob Museum (Optional - Discounted Tickets Recommended)",\n          "placeDetails": "Learn about the history of organized crime.  Look for discounted tickets online.",\n          "placeImageUrl": "https://themobmuseum.org/wp-content/uploads/2023/01/2013.01.02-The-Mob-Museum-Exterior-Night-copy.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1687,\n            "longitude": -115.1438\n          },\n          "ticketPricing": "$30 - $35 per person (can find discounts)",\n          "timeTravel": "10-15 minutes (ride-share from Gold & Silver Pawn)"\n        },\n        {\n          "time": "6:30 PM",\n          "placeName": "Dinner at Evel Pie",\n          "placeDetails": "Delicious and affordable pizza joint with an Evel Knievel theme.",\n          "placeImageUrl": "https://www.evelpie.com/wp-content/uploads/2018/08/evelpie_location.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1701,\n            "longitude": -115.1430\n          },\n          "ticketPricing": "$15 - $25 per person",\n          "timeTravel": "Located on Fremont Street"\n        },\n        {\n          "time": "7:30 PM",\n          "placeName": "Fremont Street Experience Light Show",\n          "placeDetails": "Enjoy another showing of the Viva Vision light show on Fremont Street.",\n          "placeImageUrl": "https://vegasexperience.com/wp-content/uploads/2024/04/Vegas_Experience_Downtown_Las_Vegas_Strip_Main_Website_Banner_2560x1000_02-scaled.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1702,\n            "longitude": -115.1422\n          },\n          "ticketPricing": "Free",\n          "timeTravel": "Located on Fremont Street"\n        },\n        {\n          "time": "9:00 PM",\n          "placeName": "Casino Hopping on Fremont Street",\n          "placeDetails": "Explore the various casinos on Fremont Street. Play some low-stakes games or just soak in the atmosphere.",\n          "placeImageUrl": "https://www.casinoquest.biz/images/photos/fremont.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1702,\n            "longitude": -115.1422\n          },\n          "ticketPricing": "Depends on gambling",\n          "timeTravel": "Located on Fremont Street"\n        }\n      ]\n    },\n    "day3": {\n      "theme": "Nature Escape and Departure",\n      "bestTimeToVisit": "Morning and Afternoon",\n      "activities": [\n        {\n          "time": "9:00 AM",\n          "placeName": "Breakfast at Hotel/Grab Coffee",\n          "placeDetails": "Quick and cheap breakfast at your hotel or grab a coffee to go.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Coffee_with_milk.jpg/640px-Coffee_with_milk.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1260,\n            "longitude": -115.1654\n          },\n          "ticketPricing": "$5 - $10",\n          "timeTravel": "N/A"\n        },\n        {\n          "time": "10:00 AM",\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Scenic drive and hiking trails. A beautiful escape from the city. Entrance fee required.",\n          "placeImageUrl": "https://www.redrockcanyonlv.org/wp-content/uploads/2017/06/red-rock-canyon-lv-1920x1080.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1496,\n            "longitude": -115.4167\n          },\n          "ticketPricing": "$15 per vehicle",\n          "timeTravel": "30-45 minutes drive from the Strip"\n        },\n        {\n          "time": "10:30 AM - 1:00PM",\n          "placeName": "Scenic Drive and Short Hike",\n          "placeDetails": "Take the scenic 13-mile drive and stop at overlooks. Choose an easy hike like the Moenkopi Loop or Calico Hills Trail.",\n          "placeImageUrl": "https://www.redrockcanyonlv.org/wp-content/uploads/2017/09/red-rock-canyon-lv-scenic-drive-1920x1080.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1496,\n            "longitude": -115.4167\n          },\n          "ticketPricing": "Included in park entrance fee",\n          "timeTravel": "Located in Red Rock Canyon"\n        },\n        {\n          "time": "1:00 PM",\n          "placeName": "Lunch in Red Rock Canyon Area",\n          "placeDetails": "Pack a picnic lunch to save money or find a casual restaurant in the nearby town of Summerlin.",\n          "placeImageUrl": "https://www.traeger.com/on/demandware.static/-/Sites-traeger-master-catalog/default/dw22d831c4/recipes/picnic-lunch-01.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1496,\n            "longitude": -115.4167\n          },\n          "ticketPricing": "$10-$20",\n          "timeTravel": "Located in Red Rock Canyon"\n        },\n        {\n          "time": "2:30 PM",\n          "placeName": "Ethel M Chocolate Factory and Cactus Garden (Optional)",\n          "placeDetails": "Free chocolate factory tour and a beautiful cactus garden.  A good stop on the way back to the airport.",\n          "placeImageUrl": "https://www.ethelm.com/cdn/shop/files/128189_EM_Factory_1024x1024.jpg?v=1692818554",\n          "geoCoordinates": {\n            "latitude": 36.0411,\n            "longitude": -115.0799\n          },\n          "ticketPricing": "Free (chocolate purchases extra)",\n          "timeTravel": "30-45 minutes drive from Red Rock Canyon"\n        },\n\n        {\n          "time": "4:00 PM",\n          "placeName": "Head to Airport",\n          "placeDetails": "Allow ample time to return rental car, check luggage, and go through security.",\n          "placeImageUrl": "https://www.cdw.com/content/cdw/en/articles/collaboration/files/las-vegas-airport.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0801,\n            "longitude": -115.1523\n          },\n          "ticketPricing": "N/A",\n          "timeTravel": "15-20 minutes drive from Ethel M Chocolate Factory"\n        }\n      ]\n    }\n  },\n  "budgetTips": [\n    "Take advantage of free attractions.",\n    "Walk or use public transportation (Deuce bus) to save on transportation costs.",\n    "Look for happy hour deals and discounted meals.",\n    "Pack snacks and drinks to avoid buying them on the Strip.",\n    "Consider visiting during the off-season for lower hotel rates.",\n    "Look for hotel deals and promotions online.",\n    "Avoid gambling more than your budget allows."\n  ]\n}\n```\n\n**Key Budget Considerations:**\n\n*   **Hotel:** The hotels listed are generally the most budget-friendly options on the Strip. Prices fluctuate, so book in advance and compare.\n*   **Food:** I\'ve included a mix of very affordable options like In-N-Out, Ocean One, and Evel Pie. Packing snacks and having a picnic will save a lot of money.\n*   **Transportation:** Walking is your best bet on the Strip. The Deuce bus is a cheap way to get around, especially if you buy a multi-day pass. Ride-sharing (Uber/Lyft) can be useful for longer distances.\n*   **Attractions:** Prioritize free attractions. If you want to do paid attractions, look for discounts online. The High Roller and Mob Museum can often be found at a reduced price.\n*   **Gambling:** Set a very strict gambling budget and stick to it. It\'s easy to get carried away.\n\n**Important Notes:**\n\n*   **Flexibility:** Be prepared to adjust the itinerary based on your energy levels and preferences.\n*   **Walking:** Vegas involves a lot of walking, so wear comfortable shoes.\n*   **Hydration:** It\'s hot and dry, so drink plenty of water.\n*   **Reservations:** For popular restaurants or shows, consider making reservations in advance.\n*   **Deals:** Keep an eye out for deals and promotions, especially on websites like Groupon or Travelzoo.\n*   **Check show timings:** Some of the free attractions have scheduled show timings (like the Fountains of Bellagio and Mirage Volcano). Check these in advance.\n*   **Off-Strip options:** For even cheaper food, look for restaurants off the Strip (a short drive or bus ride away).\n\nThis plan provides a framework for an amazing Las Vegas trip without spending a fortune!  Enjoy your vacation.\n',
        },
      ],
    },
  ],
});